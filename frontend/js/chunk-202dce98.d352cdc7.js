(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-202dce98"],{"1e9b":function(e,t,o){"use strict";o("e475")},"29e9":function(e,t,o){"use strict";o.r(t);var l=o("7a23"),n=o("44a6");const c={class:"flex align-center justify-content"},a={key:0,class:"score-text font-bold padding-top"},r={id:"content-wrapper"},s={class:"flex align-center"},i={class:"flex"},p={class:"font-bold"},d=["innerHTML"],b={class:"font-bold score-text inline-block no-wrap"},m={key:0,prop:"resource"},u=["innerHTML"],O={key:1,prop:"type"},j=["innerHTML"],k={key:2,prop:"type"},y={key:3,prop:"type"},f={key:0,class:"mask"},V={key:0,class:"flex padding-end padding-top margin-bottom",style:{"justify-content":"flex-end"}};var x=Object(l["defineComponent"])({__name:"Evaluation",props:{questions:{type:Object,default:()=>null},totalScore:{type:Number,default:0},paperId:{type:String,default:""},isOnlyShow:{type:Boolean,default:!1}},emits:["submitEvaluation"],setup(e,{emit:t}){const o=Object(l["reactive"])({questionList:[],examPaper:{name:"",number:0,totalScore:0},currentIndex:0}),x=e,B=t,E=e=>{n["a"].clientPost("/examPaper/getDataById",{id:e}).then(e=>{o.examPaper=e.data})},g=e=>{n["a"].clientPost("/exam/getQuestionList",{paperId:e}).then(e=>{o.questionList=e.list,o.currentIndex=-1})},v=()=>{const e=o.questionList;for(let t=0;t<e.length;t++){if(("radio"===e[t].type||"checkbox"===e[t].type)&&(!e[t].resultOption||0===e[t].resultOption.length))return void n["a"].msgError("第 "+(t+1)+" 题必选！");if("starScore"===e[t].type&&0===e[t].result)return void n["a"].msgError("第 "+(t+1)+" 题未打分！");if("text"===e[t].type&&!e[t].result)return void n["a"].msgError("第 "+(t+1)+" 题未填写！")}o.questionList.forEach(e=>{"radio"!==e.type&&"checkbox"!==e.type||(e.result=0,e.resultOption||(e.resultOption=[]),"string"===typeof e.resultOption&&(e.resultOption=[e.resultOption]),e.options.forEach(t=>{e.resultOption.indexOf(t.id)>-1&&(e.result+=t.score)}))}),B("submitEvaluation",o.questionList)};return Object(l["onMounted"])(()=>{E(x.paperId),g(x.paperId)}),(t,n)=>{const B=Object(l["resolveComponent"])("el-radio"),E=Object(l["resolveComponent"])("el-radio-group"),g=Object(l["resolveComponent"])("el-checkbox"),N=Object(l["resolveComponent"])("el-checkbox-group"),h=Object(l["resolveComponent"])("el-rate"),C=Object(l["resolveComponent"])("el-input"),L=Object(l["resolveComponent"])("el-button");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",c,[e.totalScore?(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",a,"（总得分："+Object(l["toDisplayString"])(e.totalScore)+"分）",1)):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",r,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(x.questions||o.questionList,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"padding-left",key:e},[Object(l["createElementVNode"])("div",s,[Object(l["createElementVNode"])("h3",i,[Object(l["createElementVNode"])("span",p,Object(l["toDisplayString"])(t+1)+". ",1),Object(l["createElementVNode"])("span",{innerHTML:e.name},null,8,d)]),Object(l["createElementVNode"])("small",b,[n[0]||(n[0]=Object(l["createTextVNode"])("   (分值： ")),Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e["score"]),1),n[1]||(n[1]=Object(l["createTextVNode"])(" ） "))])]),"radio"===e["type"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",m,[Object(l["createVNode"])(E,{modelValue:e["resultOption"],"onUpdate:modelValue":t=>e["resultOption"]=t,style:{display:"flex","flex-direction":"column"}},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e["options"],(e,t)=>(Object(l["openBlock"])(),Object(l["createBlock"])(B,{key:t,label:e.id},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("span",{innerHTML:e.name},null,8,u)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):Object(l["createCommentVNode"])("",!0),"checkbox"===e["type"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",O,[Object(l["createVNode"])(N,{modelValue:e["resultOption"],"onUpdate:modelValue":t=>e["resultOption"]=t,style:{display:"flex","flex-direction":"column"}},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e["options"],(e,t)=>(Object(l["openBlock"])(),Object(l["createBlock"])(g,{key:t,label:e.id,name:"type"},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("span",{innerHTML:e.name},null,8,j)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):Object(l["createCommentVNode"])("",!0),"starScore"===e["type"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",k,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e["options"],(t,o)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"flex align-center",key:o},[Object(l["createVNode"])(h,{modelValue:e.result,"onUpdate:modelValue":t=>e.result=t,style:{margin:"16px"},max:e["score"],size:"large"},null,8,["modelValue","onUpdate:modelValue","max"])]))),128))])):Object(l["createCommentVNode"])("",!0),"text"===e["type"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",y,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e["options"],(t,o)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"flex align-center",key:o},[Object(l["createVNode"])(C,{type:"textarea",style:{margin:"16px"},modelValue:e.result,"onUpdate:modelValue":t=>e.result=t},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):Object(l["createCommentVNode"])("",!0)]))),128)),x.questions?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",f)):Object(l["createCommentVNode"])("",!0)]),e.isOnlyShow?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",V,[Object(l["createVNode"])(L,{type:"primary",onClick:v},{default:Object(l["withCtx"])(()=>n[2]||(n[2]=[Object(l["createTextVNode"])("提交")])),_:1})]))],64)}}}),B=(o("1e9b"),o("6b0d")),E=o.n(B);const g=E()(x,[["__scopeId","data-v-af550f28"]]);t["default"]=g},e475:function(e,t,o){}}]);