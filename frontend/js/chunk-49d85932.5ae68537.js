(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49d85932"],{2770:function(e,t,a){},c2de:function(e,t,a){"use strict";a("2770")},cc43:function(e,t,a){"use strict";a("fcaf")},d250:function(e,t,a){"use strict";a("f27b")},e754:function(e,t,a){"use strict";a.r(t);var l=a("7a23");const o={class:"nav-manage"};function c(e,t,a,c,n,r){const s=Object(l["resolveComponent"])("el-button"),d=Object(l["resolveComponent"])("search-class"),i=Object(l["resolveComponent"])("el-table-column"),p=Object(l["resolveComponent"])("el-switch"),u=Object(l["resolveComponent"])("el-table"),b=Object(l["resolveComponent"])("el-input"),m=Object(l["resolveComponent"])("el-form-item"),h=Object(l["resolveComponent"])("select-tree"),O=Object(l["resolveComponent"])("radio-group"),j=Object(l["resolveComponent"])("el-form"),f=Object(l["resolveComponent"])("el-dialog");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",o,[Object(l["createVNode"])(d,{searchInit:e.searchInit,onSearch:e.search},{"right-btn":Object(l["withCtx"])(()=>[Object(l["createVNode"])(s,{class:"backgreen-btn",onClick:e.addNew,type:"primary",plain:"",size:"small"},{default:Object(l["withCtx"])(()=>t[6]||(t[6]=[Object(l["createTextVNode"])("添加导航 ")])),_:1},8,["onClick"]),Object(l["createVNode"])(s,{type:"danger",size:"small",plain:""},{default:Object(l["withCtx"])(()=>t[7]||(t[7]=[Object(l["createTextVNode"])("删除")])),_:1})]),_:1},8,["searchInit","onSearch"]),Object(l["createVNode"])(u,{data:e.tableData,style:{width:"100%"},"row-key":"id","current-row-key":"id","default-expand-all":!1,"tree-props":{children:"children",hasChildren:"hasChildren"}},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(i,{type:"selection",width:"55"}),Object(l["createVNode"])(i,{prop:"name",label:"导航名称"}),Object(l["createVNode"])(i,{label:"是否启用"},{default:Object(l["withCtx"])(e=>[Object(l["createVNode"])(p,{modelValue:e.row.status,"onUpdate:modelValue":t=>e.row.status=t,"active-color":"#1edfaf","inactive-color":"#e7e9ee"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),Object(l["createVNode"])(i,{prop:"path",label:"地址",width:"220"}),Object(l["createVNode"])(i,{prop:"level",label:"分类等级"}),Object(l["createVNode"])(i,{prop:"sequence",label:"排序"}),Object(l["createVNode"])(i,{prop:"opera",label:"操作"},{default:Object(l["withCtx"])(a=>[Object(l["createVNode"])(s,{onClick:t=>e.editNav(a.row.id),type:"text",size:"small",class:"font-green"},{default:Object(l["withCtx"])(()=>t[8]||(t[8]=[Object(l["createTextVNode"])("编辑 ")])),_:2},1032,["onClick"]),Object(l["createVNode"])(s,{type:"text",class:"font-red",size:"small",onClick:t=>e.del(a.row.id)},{default:Object(l["withCtx"])(()=>t[9]||(t[9]=[Object(l["createTextVNode"])("删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t[13]||(t[13]=Object(l["createElementVNode"])("div",{class:"page-box"},null,-1)),e.isAddNew?(Object(l["openBlock"])(),Object(l["createBlock"])(f,{key:0,class:"dialog",title:"新增用户等级","destroy-on-close":!0,visible:e.isAddNew,"onUpdate:visible":t[5]||(t[5]=t=>e.isAddNew=t),fullscreen:!1,"modal-append-to-body":!0},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(j,{ref:"form",modelValue:e.navForm,"onUpdate:modelValue":t[4]||(t[4]=t=>e.navForm=t),"label-width":"80px"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(m,{label:"导航名称"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(b,{modelValue:e.navForm.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.navForm.name=t),placeholder:"请输入等级名称",style:{width:"320px"}},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(m,{label:"父级导航"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(h,{props:e.props,options:e.options,value:e.navForm.parentId,onGetValue:t[1]||(t[1]=t=>e.getValue(t))},null,8,["props","options","value"])]),_:1}),Object(l["createVNode"])(m,{label:"状态"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(O,{radioList:["启用","禁用"],startRadio:1==e.navForm.status?"启用":"禁用",onChangeRadio:e.changeStatus},null,8,["startRadio","onChangeRadio"])]),_:1}),Object(l["createVNode"])(m,{label:"排序级别"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(b,{modelValue:e.navForm.sequence,"onUpdate:modelValue":t[2]||(t[2]=t=>e.navForm.sequence=t),style:{width:"120px"},placeholder:"请输"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(m,{label:"地址"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(b,{modelValue:e.navForm.path,"onUpdate:modelValue":t[3]||(t[3]=t=>e.navForm.path=t),style:{width:"120px"},placeholder:"请输入地址",type:"url"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(m,{style:{"text-align":"center",width:"50%","margin-top":"50px"}},{default:Object(l["withCtx"])(()=>[e.navForm.id?(Object(l["openBlock"])(),Object(l["createBlock"])(s,{key:1,type:"primary",onClick:e.update},{default:Object(l["withCtx"])(()=>t[11]||(t[11]=[Object(l["createTextVNode"])("修改")])),_:1},8,["onClick"])):(Object(l["openBlock"])(),Object(l["createBlock"])(s,{key:0,type:"primary",onClick:e.save},{default:Object(l["withCtx"])(()=>t[10]||(t[10]=[Object(l["createTextVNode"])("保存 ")])),_:1},8,["onClick"])),Object(l["createVNode"])(s,{type:"",onClick:e.cancel},{default:Object(l["withCtx"])(()=>t[12]||(t[12]=[Object(l["createTextVNode"])("取消")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible"])):Object(l["createCommentVNode"])("",!0)])}var n=a("f220"),r=a("44a6"),s=Object(l["defineComponent"])({name:"",components:{SearchClass:n["a"]},setup:()=>{const e=Object(l["reactive"])({pageParams:{isEdit:!1,isDrawer:!1,refresh:!1},searchInfo:{},selection:[],tableColumns:[{valueKey:"selection",label:"",type:"selection"},{valueKey:"avatar",label:"头像",type:"avatar",width:100},{valueKey:"name",label:"姓名"},{valueKey:"username",label:"帐号"},{valueKey:"mobile",width:120,label:"手机号"},{valueKey:"created",label:"创建日期",type:"time"}],searchInit:[{name:"isSelect",desc:"专业",value:"searchProfession",placeholder:"请选择选择专业",options:[]},{name:"isSelect",desc:"科室",value:"searchDepartment",placeholder:"请选择选择科室",options:[]}],formList:[{id:1,type:"none",label:"账号",placeholder:"请输入帐号",key:"id",width:"",value:null,required:!0,defaultValue:"xxxx"},{id:1,type:"input",label:"账号",placeholder:"请输入帐号",key:"username",width:"",value:null,required:!0,defaultValue:""},{id:1,type:"input",label:"名称",placeholder:"请输入名称",key:"name",width:"",value:null,defaultValue:"",required:!0},{id:1,type:"input",label:"手机号码",placeholder:"请输入手机号码",key:"mobile",width:"",value:"",defaultValue:null}]}),t=t=>{const a=JSON.parse(JSON.stringify(t)),l={name:a.name,username:a.username,mobile:a.mobile};if(e.pageParams.isEdit)return l.id=a.id,void r["a"].post("/user/updateById",l).then(t=>{t.success&&(e.pageParams.isDrawer=!1,r["a"].msg(t.msg),e.pageParams.refresh=!0)});r["a"].post("/user/create",l).then(t=>{t.success&&(r["a"].msg(t.msg),e.pageParams.isDrawer=!1,e.pageParams.refresh=!0)})},a=e=>{console.log(e)};return{...Object(l["toRefs"])(e),submit:t,search:a}}}),d=(a("c2de"),a("6b0d")),i=a.n(d);const p=i()(s,[["render",c],["__scopeId","data-v-656db68a"]]);t["default"]=p},f220:function(e,t,a){"use strict";a("14d9");var l=a("7a23"),o=a("415f"),c=a("c57c"),n=a("44a6");const r={class:"search-class-ul"},s={key:0,class:"time-choose-box"},d={key:1,class:"select-box"},i={key:2,class:"el-select-tree-box"},p={key:3,class:"el-select-tree-box"},u={key:4,class:"demo-date-picker",style:{margin:"10px"}},b={class:"block"},m={key:1,class:"opera-buttons"},h={class:""},O={style:{position:"absolute",top:"-20%",left:"0",visibility:"hidden"}};var j=Object(l["defineComponent"])({__name:"SearchClass",props:{searchInit:{type:Object,default:()=>[]},searchInfo:{type:Object,default:()=>({})},tableName:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},isHideRight:{type:Boolean,default:!1},isShowReset:{type:Boolean,default:!1},searchKey:{type:String,default:"name"},isShowSearchInput:{type:Boolean,default:!0},list:{type:Array,default:()=>[]},tableColumns:{type:Array,default:()=>[]},placeholder:{type:String,default:"搜索"},isShowExportBtn:{type:Boolean,default:!1}},emits:["exportAll","update:refresh","update:tableColumns","update:searchInfo","search"],setup(e,{emit:t}){const a=Object(l["ref"])(!1),j=e,f=Object(l["ref"])(null),V=t,v=()=>{g.searchInfo={},V("update:searchInfo",{}),V("search",{}),V("update:refresh",!0)},y=(e,t)=>{if(e&&t.url){a.value=!0;const l={};t.isInWhereName&&e?t.queryParams.where.name={_like:e}:l[t.searchKey||"name"]=e,n["a"][t.httpType||"get"](t.url,{...t.queryParams,...l}||{}).then(e=>{a.value=!1,t.options=e.list})}else t.options=[]},k=(e,t)=>({disabledDate(t){if(e="today"===e?n["a"].formatTime(""):e,e&&e);else if(e)return new Date(e).getTime()>t.getTime()}}),C=()=>{V("exportAll")},N=Object(l["reactive"])({checkStrictly:!0,label:"name",value:"id"}),g=Object(l["reactive"])({inputSearch:"",cascadeChecked:(()=>{const e=[];return j.tableColumns.forEach(t=>{t.isHide||e.push([t.valueKey])}),e})(),pickerOptions:{shortcuts:[{text:"最近一周",onClick:e=>{const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:e=>{const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:e=>{const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},searchInfo:{},categoryName:"",Refresh:o["a"]}),w=(e,t)=>{const a=JSON.parse(JSON.stringify(g.searchInfo));a[j.searchKey]?a[j.searchKey]="%"+a[j.searchKey].trim()+"%":delete a[j.searchKey],V("update:searchInfo",a),V("search",a),V("update:refresh",!0)},x=e=>{e.url&&y("%%",e)},B=()=>{V("update:refresh",!0)},I=(e,t)=>{g.categoryName=e.name,g.searchInfo[t.value]=e.name,V("search",{[t.value]:e.id}),V("update:refresh",!0)},_=e=>{const t=[],a=new Map(JSON.parse(JSON.stringify(g.cascadeChecked)));j.tableColumns.forEach(e=>{e.isHide=!a.has(e.valueKey),t.push(e)}),V("update:tableColumns",t)},S=()=>{console.log("==>>??",f.value),f.value.popperVisible=!0};return Object(l["onMounted"])(()=>{(j.searchInit||[]).forEach(e=>{e.defaultValue&&(g.searchInfo[e.value]=e.defaultValue)})}),(t,n)=>{const j=Object(l["resolveComponent"])("el-date-picker"),V=Object(l["resolveComponent"])("el-option"),E=Object(l["resolveComponent"])("el-select"),T=Object(l["resolveComponent"])("el-tree"),U=Object(l["resolveComponent"])("el-cascader"),K=Object(l["resolveComponent"])("el-button"),D=Object(l["resolveComponent"])("el-input"),F=Object(l["resolveComponent"])("el-button-group");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",r,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.searchInit,(e,o)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:o,class:"class-box"},["isTime"===e["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",s,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e["desc"])+"：",1),e["daterange"]?(Object(l["openBlock"])(),Object(l["createBlock"])(j,{key:1,modelValue:g.searchInfo[e["value"]],"onUpdate:modelValue":t=>g.searchInfo[e["value"]]=t,"picker-options":t.pickerOptions,align:"right","end-placeholder":"结束日期","range-separator":"至",size:"small","start-placeholder":"开始日期",type:"derange","unlink-panels":""},null,8,["modelValue","onUpdate:modelValue","picker-options"])):(Object(l["openBlock"])(),Object(l["createBlock"])(j,{key:0,modelValue:g.searchInfo[e["value"]],"onUpdate:modelValue":t=>g.searchInfo[e["value"]]=t,placeholder:e["placeholder"],size:"small",type:"date"},null,8,["modelValue","onUpdate:modelValue","placeholder"]))])):"isSelect"===e["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",d,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e["desc"])+"：",1),Object(l["createVNode"])(E,{modelValue:g.searchInfo[e["value"]],"onUpdate:modelValue":t=>g.searchInfo[e["value"]]=t,loading:a.value,placeholder:e["placeholder"],"remote-method":t=>{y(t,e)},filterable:"",remote:"",clearable:!e["isNotClearable"],size:"small",onChange:w,onFocus:t=>x(e)},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e["options"],t=>(Object(l["openBlock"])(),Object(l["createBlock"])(V,{key:t.id,label:t[e["labelKey"]]||t.name,value:t[e["valueKey"]]||t.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","loading","placeholder","remote-method","clearable","onFocus"])])):"isSelectTree"===e["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",i,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e["desc"])+"：",1),Object(l["createVNode"])(E,{modelValue:g.searchInfo[e["value"]],"onUpdate:modelValue":t=>g.searchInfo[e["value"]]=t,placeholder:e["placeholder"]},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(V,{label:t.categoryName,value:e["categoryId"],style:{height:"auto",padding:"0"}},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(T,{ref_for:!0,ref:"tree",data:e.options,"node-key":e.id,props:e["formatProps"],"highlight-current":"",onNodeClick:t=>I(t,e)},null,8,["data","node-key","props","onNodeClick"])]),_:2},1032,["label","value"])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])):"isCascader"===e["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",p,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e["desc"])+"：",1),Object(l["createVNode"])(U,{modelValue:g.searchInfo[e["value"]],"onUpdate:modelValue":t=>g.searchInfo[e["value"]]=t,disabled:e.disabled,options:e.list,placeholder:e.placeholder,props:e.props||N,"show-all-levels":!1,clearable:"",onChange:t=>{w(t,e)}},null,8,["modelValue","onUpdate:modelValue","disabled","options","placeholder","props","onChange"])])):"daterange"===e["name"]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",u,[Object(l["createElementVNode"])("div",b,[n[2]||(n[2]=Object(l["createElementVNode"])("span",{class:"demonstration"},"选择周期：",-1)),Object(l["createVNode"])(j,{modelValue:g.searchInfo[e["value"]],"onUpdate:modelValue":t=>g.searchInfo[e["value"]]=t,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small","unlink-panels":"","picker-options":k(e.maxDate),onChange:t=>{w(t,e)}},null,8,["modelValue","onUpdate:modelValue","picker-options","onChange"])])])):Object(l["createCommentVNode"])("",!0)]))),128)),e.isShowReset?(Object(l["openBlock"])(),Object(l["createBlock"])(K,{key:0,size:"small",type:"primary",plain:"",onClick:v},{default:Object(l["withCtx"])(()=>n[3]||(n[3]=[Object(l["createTextVNode"])("重置")])),_:1})):Object(l["createCommentVNode"])("",!0),e.isHideRight?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",m,[Object(l["createElementVNode"])("div",h,[Object(l["renderSlot"])(t.$slots,"left-btn")]),Object(l["createElementVNode"])("div",null,[e.isShowSearchInput?(Object(l["openBlock"])(),Object(l["createBlock"])(D,{key:0,modelValue:g.searchInfo[e.searchKey],"onUpdate:modelValue":n[0]||(n[0]=t=>g.searchInfo[e.searchKey]=t),placeholder:e.placeholder,size:"small",style:{width:"200px","margin-right":"16px"},onInput:w,clearable:""},null,8,["modelValue","placeholder"])):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(F,{class:"ml-4",size:"small"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(K,{icon:Object(l["unref"])(o["a"]),onClick:B},null,8,["icon"]),Object(l["createVNode"])(K,{icon:Object(l["unref"])(c["a"]),onClick:S,style:{position:"relative"}},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",O,[Object(l["createVNode"])(U,{"popper-class":"table-column-list-choose",modelValue:g.cascadeChecked,"onUpdate:modelValue":n[1]||(n[1]=e=>g.cascadeChecked=e),ref_key:"cascadeRef",ref:f,options:e.tableColumns,props:{value:"valueKey",multiple:!0},"collapse-tags":"",onChange:_},null,8,["modelValue","options"])])]),_:1},8,["icon"]),e.isShowExportBtn?(Object(l["openBlock"])(),Object(l["createBlock"])(K,{key:0,onClick:C},{default:Object(l["withCtx"])(()=>n[4]||(n[4]=[Object(l["createTextVNode"])(" 导出全部 ")])),_:1})):Object(l["createCommentVNode"])("",!0),Object(l["renderSlot"])(t.$slots,"right-group-btn")]),_:3})])]))])}}}),f=(a("cc43"),a("d250"),a("6b0d")),V=a.n(f);const v=V()(j,[["__scopeId","data-v-bef45afa"]]);t["a"]=v},f27b:function(e,t,a){},fcaf:function(e,t,a){}}]);