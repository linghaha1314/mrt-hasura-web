(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b6c10eb"],{"0768":function(e,t,a){"use strict";var o=a("7a23"),c=Object(o["defineComponent"])({name:"Tools"});const l={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},r=Object(o["createVNode"])("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1);function n(e,t,a,c,n,s){return Object(o["openBlock"])(),Object(o["createBlock"])("svg",l,[r])}c.render=n,c.__file="packages/components/Tools.vue",t["a"]=c},"552b":function(e,t,a){"use strict";var o=a("7a23"),c=Object(o["defineComponent"])({name:"View"});const l={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},r=Object(o["createVNode"])("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1);function n(e,t,a,c,n,s){return Object(o["openBlock"])(),Object(o["createBlock"])("svg",l,[r])}c.render=n,c.__file="packages/components/View.vue",t["a"]=c},"7cb5":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const c={class:"course-manage"},l={key:0,class:"font-warning font-bold"},r={key:1,class:"font-red font-bold"},n={key:2,class:"font-warning font-bold"},s={key:3,class:"font-green font-bold"},i={key:0,class:"font-red font-bold"},u={key:1,class:"font-warning font-bold"},d={key:2,class:"font-green font-bold"},p={class:"flex align-center"},b={m:"4"},m={key:1,class:"padding-end padding-start"},f={key:0};function j(e,t,a,j,O,v){const g=Object(o["resolveComponent"])("search-class"),y=Object(o["resolveComponent"])("el-button"),h=Object(o["resolveComponent"])("table-list"),k=Object(o["resolveComponent"])("strip-title"),w=Object(o["resolveComponent"])("Preview"),C=Object(o["resolveComponent"])("el-step"),V=Object(o["resolveComponent"])("el-steps"),N=Object(o["resolveComponent"])("el-input"),B=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(g,{refresh:e.pageParams.refresh,"onUpdate:refresh":t[0]||(t[0]=t=>e.pageParams.refresh=t),searchInit:e.searchInit,onSearch:e.search},{"left-btn":Object(o["withCtx"])(()=>t[7]||(t[7]=[])),_:1},8,["refresh","searchInit","onSearch"]),Object(o["createVNode"])(h,{refresh:e.pageParams.refresh,"onUpdate:refresh":t[1]||(t[1]=t=>e.pageParams.refresh=t),selection:e.selection,"onUpdate:selection":t[2]||(t[2]=t=>e.selection=t),columns:e.columns,"http-type":"post",queryData:e.queryData,url:"/process/getCourseByRoleId"},{courseStatus:Object(o["withCtx"])(e=>[-1===e.row["courseStatus"]?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",l,"未提交")):Object(o["createCommentVNode"])("",!0),0===e.row["courseStatus"]?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",r,"审核驳回")):Object(o["createCommentVNode"])("",!0),11===e.row["courseStatus"]?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",n,"待审核")):Object(o["createCommentVNode"])("",!0),1===e.row["courseStatus"]?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",s,"审核通过")):Object(o["createCommentVNode"])("",!0)]),default:Object(o["withCtx"])(a=>[Object(o["createVNode"])(y,{type:"warning",size:"small",onClick:t=>e.openApprovalDialog(a.row)},{default:Object(o["withCtx"])(()=>t[8]||(t[8]=[Object(o["createTextVNode"])("审核 ")])),_:2},1032,["onClick"])]),status:Object(o["withCtx"])(e=>[0===e.row.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",i,"已驳回")):Object(o["createCommentVNode"])("",!0),11===e.row.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",u,"待审核")):Object(o["createCommentVNode"])("",!0),1===e.row.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",d,"已同意")):Object(o["createCommentVNode"])("",!0)]),_:1},8,["refresh","selection","columns","queryData"])]),Object(o["createVNode"])(B,{modelValue:e.isApprovalDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.isApprovalDialog=t),"destroy-on-close":"",top:"10vh"},{title:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(k,null,{default:Object(o["withCtx"])(()=>t[9]||(t[9]=[Object(o["createTextVNode"])("审批")])),_:1}),t[10]||(t[10]=Object(o["createTextVNode"])("   "))])]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",b,[Object(o["createVNode"])(w,{"data-ok":e.currentCourse},null,8,["data-ok"]),Object(o["createVNode"])(k,{class:"margin-bottom"},{default:Object(o["withCtx"])(()=>t[11]||(t[11]=[Object(o["createTextVNode"])("课程审批进度")])),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(V,{"align-center":""},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.approvalList,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:e.id,description:11===e.status?"待审核":1===e.status?"通过✅":"驳回❌",title:e["roleName"]},null,8,["description","title"]))),128))]),_:1})]),11===e.currentCourse.status?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,class:"margin-bottom"},{default:Object(o["withCtx"])(()=>t[12]||(t[12]=[Object(o["createTextVNode"])("审批意见")])),_:1})):Object(o["createCommentVNode"])("",!0),11===e.currentCourse.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",m,[Object(o["createVNode"])(N,{modelValue:e.remark,"onUpdate:modelValue":t[3]||(t[3]=t=>e.remark=t),rows:3,placeholder:"请输入审批意见",type:"textarea"},null,8,["modelValue"])])):Object(o["createCommentVNode"])("",!0)]),11===e.currentCourse.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[Object(o["createVNode"])(y,{class:"margin-start",type:"danger",onClick:t[4]||(t[4]=t=>e.agree(0))},{default:Object(o["withCtx"])(()=>t[13]||(t[13]=[Object(o["createTextVNode"])("不同意")])),_:1}),Object(o["createVNode"])(y,{class:"margin-end",type:"success",onClick:t[5]||(t[5]=t=>e.agree(1))},{default:Object(o["withCtx"])(()=>t[14]||(t[14]=[Object(o["createTextVNode"])("同意")])),_:1})])):Object(o["createCommentVNode"])("",!0)]),_:1},8,["modelValue"])],64)}var O=a("f220"),v=a("44a6"),g=a("d8e8"),y=a("d6de"),h=a("9a45"),k=a("b02f"),w=a("dd37"),C=a("552b"),V=a("94e4"),N=a("0768"),B=a("0613"),x=a("aab7"),I=a("df9f"),L=a("3eeb"),D=Object(o["defineComponent"])({components:{TableList:y["a"],SearchClass:O["a"],StripTitle:h["a"],Preview:k["a"]},setup:()=>{const{proxy:e}=Object(o["getCurrentInstance"])(),t=Object(o["reactive"])({pageParams:{isEdit:!1,isDrawer:!1,refresh:!1},queryData:{roleId:B["a"].state.manageUserInfo.currentRole.roleId,status:11,typeCode:"common_approval",staffId:B["a"].state.manageUserInfo.id,name:""},remark:"",approvalList:[],fileList:[],courseTypeList:[],selection:[],tagList:[],currentCourse:{},source:null,isApprovalDialog:!1,isVerifyDialog:!1,lecturerList:[],searchInfo:{},searchInit:[{name:"isSearch",desc:"关键词",placeholder:"请输入内容",value:"search"},{name:"isSelect",desc:"状态",placeholder:"选择状态",value:"status",valueKey:"status",defaultValue:"11",isNotClearable:!0,options:[{status:"11",name:"待审核"},{status:"0",name:"驳回"},{status:"1",name:"已经审核"}]}],verifyList:[],columns:[{valueKey:"selection",label:"",type:"selection"},{valueKey:"objectName",label:"内容名称"},{valueKey:"created",label:"申请时间",type:"time"},{valueKey:"status",type:"slot",label:"状态"}],formList:[{type:"slot",name:"basic"},{type:"none",key:"id",width:"",value:null,required:!0,defaultValue:null},{type:"input",label:"课程名",key:"courseName",width:"",value:null,required:!0,defaultValue:""},{type:"cascade",label:"课程类型",key:"typeId",width:"",value:null,url:"/courseType/getListByPage",queryParams:{limit:1e3},defaultValue:[],required:!0},{type:"cascade",label:"课程栏目",key:"columnId",width:"",value:null,list:[],defaultValue:[],required:!0},{type:"select",label:"主讲人",url:"/user/getListByPage",searchKey:"name",key:"lecturerId",width:"",value:null,defaultValue:null},{type:"uploadImg",label:"课程封面",key:"img",width:"",value:null,required:!0,defaultValue:""},{type:"textarea",label:"课程介绍",key:"introduce",width:"100",value:null,defaultValue:""},{type:"richText",label:"课程简介",key:"brief",width:"",value:"",defaultValue:null},{type:"number",label:"课程学分",key:"credits",width:"",value:"",defaultValue:null},{type:"slot",name:"files"},{type:"slot",name:"verify"}],verifyRadioList:[]}),a=Object(o["ref"])(g["a"]),c=Object(o["reactive"])({name:[{required:!0,message:"请输入课程名称",trigger:"blur"}]}),l=async e=>{const a={approvalProcessId:t.currentCourse.approvalProcessId,status:e,remark:t.remark,approvalStaffId:B["a"].state.manageUserInfo.id,roleId:B["a"].state.manageUserInfo.currentRole.roleId,workflowId:t.currentCourse.workflowId,objectId:t.currentCourse.objectId,tableName:"message"};v["a"].post("/process/agree",a).then(e=>{e.success&&(v["a"].msg(e.msg),t.isApprovalDialog=!1,t.pageParams.refresh=!0)})},r=e=>{t.queryData={...t.queryData,status:e.status||11,name:e.name}},n=e=>{t.source=e.path||e.video},s=e=>{t.isApprovalDialog=!0,v["a"].post("/workflowStart/getStepDetailList",{workflowId:e.workflowId,approvalProcessId:e.approvalProcessId}).then(e=>{t.approvalList=e.list})},i=e=>{t.currentCourse=11===e.status?e:e.objectData,t.source=e.objectData.path||e.objectData.video,t.isApprovalDialog=!0,s(e)},u=()=>{v["a"].get("/courseType/getListByPage",{limit:1e3}).then(e=>{t.courseTypeList=e.list})},d=async()=>{await v["a"].get("/homeColumns/getDataList",{}).then(e=>{t.formList[4].list=e.list})};return Object(o["onMounted"])(async()=>{u(),await d(),v["a"].post("/dictionaryData/getByTypeCode",{typeCode:"videoVerify"}).then(e=>{t.verifyRadioList=e.list})}),{rules:c,formRef:a,proxy:e,store:B["a"],Check:x["a"],Delete:I["a"],Edit:L["a"],Finished:w["a"],View:C["a"],Reading:V["a"],Tools:N["a"],...Object(o["toRefs"])(t),search:r,agree:l,getCourseType:u,changeSource:n,getHomeColumns:d,openApprovalDialog:i,checkApprovalProcess:s}}}),S=(a("905d"),a("6b0d")),E=a.n(S);const _=E()(D,[["render",j]]);t["default"]=_},"905d":function(e,t,a){"use strict";a("c9db")},"94e4":function(e,t,a){"use strict";var o=a("7a23"),c=Object(o["defineComponent"])({name:"Reading"});const l={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},r=Object(o["createVNode"])("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72l384 54.848zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"},null,-1),n=Object(o["createVNode"])("path",{fill:"currentColor",d:"M480 192h64v704h-64z"},null,-1);function s(e,t,a,c,s,i){return Object(o["openBlock"])(),Object(o["createBlock"])("svg",l,[r,n])}c.render=s,c.__file="packages/components/Reading.vue",t["a"]=c},"9a45":function(e,t,a){"use strict";var o=a("7a23");const c={class:"flex justify-between"},l={class:"strip-icon-box"},r={class:"flex align-center"};function n(e,t,a,n,s,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("p",{style:Object(o["normalizeStyle"])({background:a.backColor}),class:"primary-back"},null,4),Object(o["createElementVNode"])("span",{style:Object(o["normalizeStyle"])({"font-size":a.font+"px"})},[Object(o["renderSlot"])(e.$slots,"default",{},()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.name),1)],!0)],4)]),Object(o["createElementVNode"])("div",r,[Object(o["renderSlot"])(e.$slots,"right",{},void 0,!0)])])}var s={props:{backColor:{type:String,default:"#842d4f"},font:{type:String,default:"18"},name:{type:String,default:""}}},i=(a("c377"),a("6b0d")),u=a.n(i);const d=u()(s,[["render",n],["__scopeId","data-v-5ca8a69e"]]);t["a"]=d},"9f86":function(e,t,a){},c377:function(e,t,a){"use strict";a("9f86")},c9db:function(e,t,a){},dd37:function(e,t,a){"use strict";var o=a("7a23"),c=Object(o["defineComponent"])({name:"Finished"});const l={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},r=Object(o["createVNode"])("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64H736zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64H608zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64H480z"},null,-1);function n(e,t,a,c,n,s){return Object(o["openBlock"])(),Object(o["createBlock"])("svg",l,[r])}c.render=n,c.__file="packages/components/Finished.vue",t["a"]=c}}]);